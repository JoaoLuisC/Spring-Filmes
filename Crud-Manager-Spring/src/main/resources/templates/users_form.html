<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <div th:replace="cabecalho :: head"></div>
    <title>Crud Manager - Form Usuário</title>
    <style>
        .centered-form {
            max-width: 600px;
            margin: auto;
        }
    </style>
</head>

<body>
    <div class="container my-5">
        <div class="centered-form">
            <h2 class="text-center">Adicionar Usuário</h2>
            <form action="#" th:action="@{/users/register}" method="POST" th:object="${usuario}">
                <input type="hidden" id="id" th:field="*{id}">

                <div class="form-group">
                    <span class="text-danger"
                          th:if="${#fields.hasErrors('name')}"
                          th:errors="*{name}">
                    </span>
                    <input type="text" placeholder="Nome" class="form-control mb-4" th:field="*{name}">
                </div>

                <div class="form-group">
                    <span class="text-danger"
                          th:if="${#fields.hasErrors('email')}"
                          th:errors="*{email}">
                    </span>
                    <input type="text" placeholder="Email" class="form-control mb-4" th:field="*{email}">
                </div>

                <div class="form-group">
                    <span class="text-danger"
                          th:if="${#fields.hasErrors('gender')}"
                          th:errors="*{gender}">
                    </span>
                    <input type="text" placeholder="Gênero" class="form-control mb-4" th:field="*{gender}">
                </div>

                <input type="hidden" id="idAddress" name="id" th:field="*{address.id}">

                <div class="form-group">
                    <span class="text-danger"
                          th:if="${#fields.hasErrors('address.place')}"
                          th:errors="*{address.place}">
                    </span>
                    <input type="text" placeholder="Logradouro" class="form-control mb-4" th:field="*{address.place}">
                </div>

                <div class="form-group">
                    <span class="text-danger"
                          th:if="${#fields.hasErrors('address.number')}"
                          th:errors="*{address.number}">
                    </span>
                    <input type="number" placeholder="Número" class="form-control mb-4" th:field="*{address.number}">
                </div>

                <div class="form-group">
                    <span class="text-danger"
                          th:if="${#fields.hasErrors('address.zipCode')}"
                          th:errors="*{address.zipCode}">
                    </span>
                    <input type="text" placeholder="CEP" class="form-control mb-4" th:field="*{address.zipCode}">
                </div>

                <button type="submit" class="btn btn-info">Salvar</button>
            </form>
            <hr>
            <a class="btn btn-secondary" th:href="@{/users}">Voltar</a>
        </div>
    </div>
</body>
</html>
